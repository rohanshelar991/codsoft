<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Grade Calculator | CODSOFT Task</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #4361ee;
            --secondary: #3f37c9;
            --success: #4cc9f0;
            --light: #f8f9fa;
            --dark: #212529;
            --gray: #6c757d;
            --light-gray: #e9ecef;
            --card-bg: #ffffff;
            --body-bg: #f0f2f5;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --border-radius: 12px;
            --transition: all 0.3s ease;
            --warning: #ffc107;
            --danger: #dc3545;
            --info: #17a2b8;
            --grade-a: #28a745;
            --grade-b: #20c997;
            --grade-c: #ffc107;
            --grade-d: #fd7e14;
            --grade-f: #dc3545;
        }

        .dark-mode {
            --primary: #4895ef;
            --secondary: #4361ee;
            --success: #4cc9f0;
            --light: #212529;
            --dark: #f8f9fa;
            --gray: #adb5bd;
            --light-gray: #343a40;
            --card-bg: #121212;
            --body-bg: #121212;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            --warning: #f39c12;
            --danger: #e74c3c;
            --info: #3498db;
            --grade-a: #28a745;
            --grade-b: #20c997;
            --grade-c: #ffc107;
            --grade-d: #fd7e14;
            --grade-f: #dc3545;
        }

        body {
            background-color: var(--body-bg);
            color: var(--dark);
            min-height: 100vh;
            padding: 20px;
            transition: var(--transition);
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 20px 0;
            animation: fadeInDown 0.5s ease;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .theme-toggle {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            box-shadow: var(--shadow);
            color: white;
            font-size: 1.2rem;
        }

        .theme-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
        }

        .calculator-card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 40px;
            margin-bottom: 30px;
            transition: var(--transition);
            animation: fadeIn 0.5s ease;
        }

        .calculator-title {
            text-align: center;
            margin-bottom: 25px;
            color: var(--primary);
            font-size: 2rem;
            animation: fadeIn 0.5s ease;
        }

        .calculator-description {
            text-align: center;
            margin-bottom: 30px;
            color: var(--gray);
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .form-section {
            margin-bottom: 30px;
        }

        .student-info {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 25px;
        }

        .input-group {
            flex: 1;
            min-width: 200px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--gray);
        }

        .input-field {
            width: 100%;
            padding: 14px 20px;
            border: 2px solid var(--light-gray);
            border-radius: 8px;
            background: var(--card-bg);
            color: var(--dark);
            font-size: 1rem;
            transition: var(--transition);
        }

        .input-field:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
        }

        .subjects-section {
            margin-bottom: 30px;
        }

        .subjects-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .subjects-title {
            font-size: 1.3rem;
            color: var(--primary);
            font-weight: 600;
        }

        .add-subject-btn {
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 10px 20px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .add-subject-btn:hover {
            background: var(--secondary);
        }

        .subjects-container {
            display: grid;
            gap: 15px;
        }

        .subject-row {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            align-items: center;
            padding: 15px;
            background: var(--light);
            border-radius: 8px;
            transition: var(--transition);
        }

        .subject-row:hover {
            background: var(--light-gray);
        }

        .subject-name {
            flex: 2;
            min-width: 150px;
        }

        .subject-marks {
            flex: 1;
            min-width: 100px;
        }

        .remove-btn {
            background: var(--danger);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .remove-btn:hover {
            background: #c82333;
        }

        .calculate-btn {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: 8px;
            padding: 16px 32px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--shadow);
            width: 100%;
            margin: 20px 0;
        }

        .calculate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
        }

        .calculate-btn:disabled {
            background: var(--gray);
            cursor: not-allowed;
            transform: none;
        }

        .result-section {
            margin-top: 30px;
            padding: 25px;
            background: var(--light);
            border-radius: var(--border-radius);
            display: none;
        }

        .result-title {
            text-align: center;
            margin-bottom: 20px;
            color: var(--primary);
            font-size: 1.5rem;
        }

        .result-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .result-card {
            background: var(--card-bg);
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .result-value {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .result-label {
            font-size: 0.9rem;
            color: var(--gray);
        }

        .grade-display {
            font-size: 3rem;
            font-weight: 700;
            text-align: center;
            margin: 20px 0;
        }

        .grade-a { color: var(--grade-a); }
        .grade-b { color: var(--grade-b); }
        .grade-c { color: var(--grade-c); }
        .grade-d { color: var(--grade-d); }
        .grade-f { color: var(--grade-f); }

        .grade-description {
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.1rem;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .control-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .reset-btn {
            background: var(--danger);
            color: white;
        }

        .print-btn {
            background: var(--info);
            color: white;
        }

        .download-btn {
            background: var(--success);
            color: white;
        }

        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .error-message {
            color: var(--danger);
            text-align: center;
            margin: 10px 0;
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .grade-scale {
            margin-top: 30px;
            background: var(--light);
            padding: 20px;
            border-radius: var(--border-radius);
        }

        .grade-scale-title {
            text-align: center;
            margin-bottom: 15px;
            color: var(--primary);
            font-weight: 600;
        }

        .grade-scale-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
        }

        .grade-scale-item {
            text-align: center;
            padding: 10px;
            border-radius: 6px;
            background: var(--card-bg);
        }

        @media (max-width: 768px) {
            .calculator-card {
                padding: 20px;
            }
            
            .calculator-title {
                font-size: 1.5rem;
            }
            
            .student-info {
                flex-direction: column;
            }
            
            .subject-row {
                flex-direction: column;
                align-items: stretch;
            }
            
            .subject-name, .subject-marks {
                width: 100%;
            }
            
            .result-grid {
                grid-template-columns: 1fr;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .control-btn {
                width: 100%;
                max-width: 200px;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .pulse {
            animation: pulse 0.5s ease;
        }

        .fade-in-out {
            animation: fadeInOut 0.5s ease;
        }

        @keyframes fadeInOut {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">üìä Student Grade Calculator</div>
            <button class="theme-toggle" id="themeToggle">üåô</button>
        </header>

        <main>
            <div class="calculator-card">
                <h1 class="calculator-title">Student Grade Calculator</h1>
                <p class="calculator-description">Calculate total marks, average percentage, and final grade for multiple subjects</p>
                
                <div class="form-section">
                    <div class="student-info">
                        <div class="input-group">
                            <label for="studentName">Student Name</label>
                            <input type="text" id="studentName" class="input-field" placeholder="Enter student name">
                        </div>
                        <div class="input-group">
                            <label for="className">Class/Section</label>
                            <input type="text" id="className" class="input-field" placeholder="Enter class/section">
                        </div>
                        <div class="input-group">
                            <label for="rollNumber">Roll Number</label>
                            <input type="text" id="rollNumber" class="input-field" placeholder="Enter roll number">
                        </div>
                    </div>
                    
                    <div class="subjects-section">
                        <div class="subjects-header">
                            <h3 class="subjects-title">Subjects</h3>
                            <button class="add-subject-btn" id="addSubjectBtn">+ Add Subject</button>
                        </div>
                        
                        <div class="subjects-container" id="subjectsContainer">
                            <!-- Subject rows will be added here -->
                        </div>
                    </div>
                    
                    <button class="calculate-btn" id="calculateBtn">Calculate Grade</button>
                    
                    <div class="error-message" id="errorMessage"></div>
                </div>
                
                <div class="result-section" id="resultSection">
                    <h2 class="result-title">Result Summary</h2>
                    
                    <div class="result-grid">
                        <div class="result-card">
                            <div class="result-value" id="totalMarks">0</div>
                            <div class="result-label">Total Marks</div>
                        </div>
                        <div class="result-card">
                            <div class="result-value" id="averagePercentage">0%</div>
                            <div class="result-label">Average %</div>
                        </div>
                        <div class="result-card">
                            <div class="result-value" id="gradePoint">0.0</div>
                            <div class="result-label">Grade Point</div>
                        </div>
                        <div class="result-card">
                            <div class="result-value" id="subjectsCount">0</div>
                            <div class="result-label">Subjects</div>
                        </div>
                    </div>
                    
                    <div class="grade-display" id="finalGrade">-</div>
                    <div class="grade-description" id="gradeDescription"></div>
                    
                    <div class="controls">
                        <button class="control-btn reset-btn" id="resetBtn">Reset Form</button>
                        <button class="control-btn print-btn" id="printBtn">Print Result</button>
                        <button class="control-btn download-btn" id="downloadBtn">Download PDF</button>
                    </div>
                </div>
                
                <div class="grade-scale">
                    <h3 class="grade-scale-title">Grade Scale</h3>
                    <div class="grade-scale-list">
                        <div class="grade-scale-item">
                            <div style="color: var(--grade-a); font-weight: bold;">A+</div>
                            <div style="font-size: 0.8rem;">‚â•90%</div>
                        </div>
                        <div class="grade-scale-item">
                            <div style="color: var(--grade-a); font-weight: bold;">A</div>
                            <div style="font-size: 0.8rem;">80-89%</div>
                        </div>
                        <div class="grade-scale-item">
                            <div style="color: var(--grade-b); font-weight: bold;">B</div>
                            <div style="font-size: 0.8rem;">70-79%</div>
                        </div>
                        <div class="grade-scale-item">
                            <div style="color: var(--grade-c); font-weight: bold;">C</div>
                            <div style="font-size: 0.8rem;">60-69%</div>
                        </div>
                        <div class="grade-scale-item">
                            <div style="color: var(--grade-f); font-weight: bold;">F</div>
                            <div style="font-size: 0.8rem;">&lt;60%</div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Subject counter
        let subjectCount = 0;

        // DOM Elements
        const subjectsContainer = document.getElementById('subjectsContainer');
        const addSubjectBtn = document.getElementById('addSubjectBtn');
        const calculateBtn = document.getElementById('calculateBtn');
        const resultSection = document.getElementById('resultSection');
        const totalMarksEl = document.getElementById('totalMarks');
        const averagePercentageEl = document.getElementById('averagePercentage');
        const gradePointEl = document.getElementById('gradePoint');
        const finalGradeEl = document.getElementById('finalGrade');
        const gradeDescriptionEl = document.getElementById('gradeDescription');
        const subjectsCountEl = document.getElementById('subjectsCount');
        const errorMessageEl = document.getElementById('errorMessage');
        const themeToggle = document.getElementById('themeToggle');
        const resetBtn = document.getElementById('resetBtn');
        const printBtn = document.getElementById('printBtn');
        const downloadBtn = document.getElementById('downloadBtn');

        // Initialize the calculator
        function initCalculator() {
            // Add initial subjects
            addSubject();
            addSubject();
            addSubject();
            
            setupEventListeners();
            loadTheme();
        }

        // Set up event listeners
        function setupEventListeners() {
            addSubjectBtn.addEventListener('click', addSubject);
            calculateBtn.addEventListener('click', calculateGrade);
            themeToggle.addEventListener('click', toggleTheme);
            resetBtn.addEventListener('click', resetForm);
            printBtn.addEventListener('click', printResult);
            downloadBtn.addEventListener('click', downloadResult);
        }

        // Add a new subject row
        function addSubject() {
            subjectCount++;
            const subjectRow = document.createElement('div');
            subjectRow.className = 'subject-row';
            subjectRow.innerHTML = `
                <div class="subject-name">
                    <input type="text" class="input-field subject-name-input" placeholder="Subject Name" value="Subject ${subjectCount}">
                </div>
                <div class="subject-marks">
                    <input type="number" class="input-field subject-marks-input" placeholder="Marks (0-100)" min="0" max="100">
                </div>
                <button class="remove-btn" type="button">‚úï</button>
            `;
            
            subjectsContainer.appendChild(subjectRow);
            
            // Add event listener to remove button
            const removeBtn = subjectRow.querySelector('.remove-btn');
            removeBtn.addEventListener('click', () => {
                if (subjectsContainer.children.length > 1) {
                    subjectRow.remove();
                } else {
                    showError('At least one subject is required');
                }
            });
        }

        // Calculate grade
        function calculateGrade() {
            // Hide any previous error
            hideError();
            
            // Get all subject inputs
            const subjectRows = subjectsContainer.querySelectorAll('.subject-row');
            let totalMarks = 0;
            let validSubjects = 0;
            let hasInvalidInput = false;
            
            subjectRows.forEach(row => {
                const nameInput = row.querySelector('.subject-name-input');
                const marksInput = row.querySelector('.subject-marks-input');
                
                const subjectName = nameInput.value.trim();
                const marks = parseFloat(marksInput.value);
                
                // Validate subject name
                if (!subjectName) {
                    showError('Please enter all subject names');
                    hasInvalidInput = true;
                    return;
                }
                
                // Validate marks
                if (isNaN(marks) || marks < 0 || marks > 100) {
                    showError(`Please enter valid marks (0-100) for ${subjectName}`);
                    hasInvalidInput = true;
                    return;
                }
                
                totalMarks += marks;
                validSubjects++;
            });
            
            if (hasInvalidInput || validSubjects === 0) {
                return;
            }
            
            // Calculate results
            const averagePercentage = totalMarks / validSubjects;
            const gradePoint = averagePercentage / 10; // Simplified grade point calculation
            const finalGrade = getGrade(averagePercentage);
            const gradeDescription = getGradeDescription(finalGrade);
            
            // Update UI
            totalMarksEl.textContent = totalMarks;
            averagePercentageEl.textContent = averagePercentage.toFixed(2) + '%';
            gradePointEl.textContent = gradePoint.toFixed(2);
            subjectsCountEl.textContent = validSubjects;
            
            // Update grade display with appropriate class
            finalGradeEl.textContent = finalGrade;
            finalGradeEl.className = 'grade-display';
            if (finalGrade === 'A+' || finalGrade === 'A') {
                finalGradeEl.classList.add('grade-a');
            } else if (finalGrade === 'B') {
                finalGradeEl.classList.add('grade-b');
            } else if (finalGrade === 'C') {
                finalGradeEl.classList.add('grade-c');
            } else if (finalGrade === 'D') {
                finalGradeEl.classList.add('grade-d');
            } else {
                finalGradeEl.classList.add('grade-f');
            }
            
            gradeDescriptionEl.textContent = gradeDescription;
            
            // Show result section
            resultSection.style.display = 'block';
            resultSection.classList.add('fade-in-out');
            
            // Remove animation class after it completes
            setTimeout(() => {
                resultSection.classList.remove('fade-in-out');
            }, 500);
        }

        // Get grade based on average percentage
        function getGrade(average) {
            if (average >= 90) return 'A+';
            if (average >= 80) return 'A';
            if (average >= 70) return 'B';
            if (average >= 60) return 'C';
            return 'F';
        }

        // Get grade description
        function getGradeDescription(grade) {
            switch(grade) {
                case 'A+':
                    return 'Excellent Performance!';
                case 'A':
                    return 'Very Good Performance!';
                case 'B':
                    return 'Good Performance!';
                case 'C':
                    return 'Satisfactory Performance';
                case 'F':
                    return 'Needs Improvement';
                default:
                    return '';
            }
        }

        // Show error message
        function showError(message) {
            errorMessageEl.textContent = message;
            errorMessageEl.style.display = 'block';
        }

        // Hide error message
        function hideError() {
            errorMessageEl.style.display = 'none';
        }

        // Reset form
        function resetForm() {
            // Clear all subject rows except one
            while (subjectsContainer.children.length > 1) {
                subjectsContainer.removeChild(subjectsContainer.lastChild);
            }
            
            // Clear inputs
            document.getElementById('studentName').value = '';
            document.getElementById('className').value = '';
            document.getElementById('rollNumber').value = '';
            
            // Reset first subject
            const firstRow = subjectsContainer.firstElementChild;
            if (firstRow) {
                firstRow.querySelector('.subject-name-input').value = '';
                firstRow.querySelector('.subject-marks-input').value = '';
            }
            
            // Hide result section
            resultSection.style.display = 'none';
            
            // Reset subject counter
            subjectCount = 0;
            addSubject();
        }

        // Print result
        function printResult() {
            if (resultSection.style.display === 'none') {
                showError('Please calculate results first');
                return;
            }
            
            window.print();
        }

        // Download result as PDF (simplified - would need a library for full implementation)
        function downloadResult() {
            if (resultSection.style.display === 'none') {
                showError('Please calculate results first');
                return;
            }
            
            alert('PDF download functionality would be implemented with a library like jsPDF in a real application');
        }

        // Toggle theme
        function toggleTheme() {
            document.body.classList.toggle('dark-mode');
            const isDarkMode = document.body.classList.contains('dark-mode');
            localStorage.setItem('theme', isDarkMode ? 'dark' : 'light');
            themeToggle.textContent = isDarkMode ? '‚òÄÔ∏è' : 'üåô';
        }

        // Load theme preference
        function loadTheme() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-mode');
                themeToggle.textContent = '‚òÄÔ∏è';
            }
        }

        // Initialize the calculator when the page loads
        window.addEventListener('DOMContentLoaded', initCalculator);
    </script>
</body>
</html>